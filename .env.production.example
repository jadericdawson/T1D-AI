# ===========================================
# T1D-AI Production Environment Configuration
# ===========================================
# Copy this file to .env.production and fill in all values
# NEVER commit .env.production to version control!

# App Configuration
APP_NAME=T1D-AI
APP_VERSION=1.0.0
DEBUG=false

# ===========================================
# AZURE SERVICES (Reusing existing resources)
# ===========================================

# Azure CosmosDB (Serverless) - Existing: knowledge2ai-cosmos-serverless
COSMOS_ENDPOINT=https://knowledge2ai-cosmos-serverless.documents.azure.com:443/
COSMOS_KEY=<your-cosmos-key>
COSMOS_DATABASE=T1D-AI-DB

# Azure Blob Storage - Existing: knowledge2aistorage
STORAGE_ACCOUNT_URL=https://knowledge2aistorage.blob.core.windows.net
AZURE_STORAGE_CONNECTION_STRING=<your-storage-connection-string>
MODELS_CONTAINER=t1d-ai-models
DATA_CONTAINER=t1d-ai-data

# ===========================================
# AZURE OPENAI - GPT-4.1
# ===========================================

# Azure OpenAI - Existing: jadericdawson-4245-resource
GPT41_ENDPOINT=https://jadericdawson-4245-resource.cognitiveservices.azure.com/
AZURE_OPENAI_KEY=<your-openai-key>
GPT41_DEPLOYMENT=H4D_Assistant_gpt-4.1
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# ===========================================
# AUTHENTICATION
# ===========================================

# JWT Secret - Generate with: openssl rand -base64 32
JWT_SECRET_KEY=<generate-strong-secret-key>
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Azure AD B2C (Optional - for enterprise auth)
B2C_TENANT_NAME=
B2C_CLIENT_ID=
B2C_CLIENT_SECRET=
B2C_POLICY_NAME=B2C_1_signupsignin

# ===========================================
# MACHINE LEARNING
# ===========================================

# Model Configuration
MODEL_DEVICE=cpu
BG_MODEL_PATH=bg_predictor_3step_v2.pth
ISF_MODEL_PATH=best_isf_net.pth

# ===========================================
# DATA SOURCES
# ===========================================

# Gluroo API (Nightscout-compatible)
DEFAULT_GLUROO_URL=https://share.gluroo.com

# ===========================================
# DIABETES PARAMETERS
# ===========================================

# Insulin Parameters (Novolog/NovoRapid defaults)
INSULIN_ACTION_DURATION=180
INSULIN_HALF_LIFE=81.0

# Carb Parameters
CARB_ABSORPTION_DURATION=180
CARB_HALF_LIFE=45.0
CARB_BG_FACTOR=4.0

# Target BG
TARGET_BG=100

# Alert Thresholds (mg/dL)
HIGH_BG_THRESHOLD=180
LOW_BG_THRESHOLD=70
CRITICAL_HIGH_THRESHOLD=250
CRITICAL_LOW_THRESHOLD=54

# ===========================================
# SECURITY
# ===========================================

# CORS - Comma-separated allowed origins
CORS_ORIGINS=https://t1d-ai.azurewebsites.net

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ===========================================
# FRONTEND (for docker-compose)
# ===========================================

VITE_API_URL=https://t1d-ai-api.azurewebsites.net
VITE_WS_URL=wss://t1d-ai-api.azurewebsites.net
